# HA Gree Water Heater

Home Assistant è‡ªå®šä¹‰é›†æˆï¼Œç”¨äºæ§åˆ¶ Gree ç©ºæ°”èƒ½çƒ­æ°´å™¨ï¼Œæ”¯æŒæ¸©åº¦è°ƒèŠ‚ã€æ¨¡å¼åˆ‡æ¢ã€ä¼ æ„Ÿå™¨æ•°æ®ç›‘æ§åŠçƒ­æ°´é‡è®¡ç®—ã€‚

**é¡¹ç›®ä¿®æ”¹è‡ª** [jamelu001/gree_water_heater](https://github.com/jamelu001/gree_water_heater)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸŒ¡ï¸ **æ¸©åº¦æ§åˆ¶**ï¼š35-55Â°C ç²¾å‡†ç›®æ ‡æ¸©åº¦è°ƒèŠ‚
- ğŸ”„ **å¤šæ¨¡å¼æ”¯æŒ**ï¼šåŠ çƒ­ / èŠ‚èƒ½ / é«˜éœ€ / å…³é—­å››ç§æ¨¡å¼
- ğŸŒ¡ï¸ **å¤šç‚¹æµ‹æ¸©**ï¼šé«˜/ä¸­/ä½ä¸‰ä½ç½®æ°´æ¸©ä¼ æ„Ÿå™¨
- ğŸ’§ **æ™ºèƒ½è®¡ç®—**ï¼šå®æ—¶çƒ­æ°´é‡ç™¾åˆ†æ¯”ï¼ˆç›®æ ‡/å®é™…ï¼‰
- â° **é¢„çº¦å®šæ—¶**ï¼šæ”¯æŒå®šæ—¶å¼€å…³æœºè®¾ç½®
- ğŸ“± **UIé…ç½®**ï¼šå…¨å›¾å½¢åŒ–é…ç½®æµç¨‹ï¼Œæ— éœ€ç¼–è¾‘YAML
- ğŸ  **è®¾å¤‡é›†æˆ**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶åœ¨Home Assistantè®¾å¤‡é¢æ¿æ˜¾ç¤º

---

## ğŸ“¦ å®‰è£…

### æ–¹æ³•ä¸€ï¼šé€šè¿‡ HACS å®‰è£…ï¼ˆæ¨èï¼‰

1. æ‰“å¼€ HACS â†’ **è‡ªå®šä¹‰ä»“åº“**
2. ç‚¹å‡» **æ·»åŠ è‡ªå®šä¹‰ä»“åº“**
3. è¾“å…¥ä»“åº“åœ°å€ï¼š`https://github.com/cybaijie/ha-gree-water-heater`
4. ç±»åˆ«é€‰æ‹© **Integration**
5. åœ¨ HACS ä¸­æœç´¢ **Gree Water Heater** å¹¶å®‰è£…
6. é‡å¯ Home Assistant

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…

```bash
# 1. è¿›å…¥ Home Assistant custom_components ç›®å½•
cd /config/custom_components

# 2. ä¸‹è½½é›†æˆ
git clone https://github.com/cybaijie/ha-gree-water-heater.git
mv ha-gree-water-heater/custom_components/greeWat ./

# 3. é‡å¯ Home Assistant
```

---

## âš™ï¸ é…ç½®

### å›¾å½¢åŒ–é…ç½®

1. è¿›å…¥ **è®¾ç½® â†’ è®¾å¤‡ä¸æœåŠ¡**
2. ç‚¹å‡» **æ·»åŠ é›†æˆ**
3. æœç´¢ **Gree Water Heater**
4. å¡«å†™è®¾å¤‡ä¿¡æ¯ï¼š
   - **åç§°**ï¼šè‡ªå®šä¹‰æ˜¾ç¤ºåç§°
   - **ä¸»æœº IP**ï¼šçƒ­æ°´å™¨è®¾å¤‡IPåœ°å€
   - **ç«¯å£**ï¼šé»˜è®¤ 7000
   - **MAC åœ°å€**ï¼šè®¾å¤‡MACï¼ˆæ— éœ€å†’å·åˆ†éš”ï¼‰
   - **åŠ å¯†ç‰ˆæœ¬**ï¼šæ ¹æ®è®¾å¤‡å‹å·é€‰ 1 æˆ– 2
   - **è¶…æ—¶æ—¶é—´**ï¼šé»˜è®¤ 10 ç§’

---

## ğŸ“Š å®ä½“è¯´æ˜

é›†æˆä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹å®ä½“ï¼š

| å®ä½“ç±»å‹ | åç§° | è¯´æ˜ |
|----------|------|------|
| `water_heater` | Gree Water Heater | ä¸»æ§åˆ¶å®ä½“ |
| `sensor` | çƒ­æ°´å™¨é«˜æ¸©å€¼ | é¡¶éƒ¨æ¸©åº¦ä¼ æ„Ÿå™¨ |
| `sensor` | çƒ­æ°´å™¨ä¸­æ¸©å€¼ | ä¸­éƒ¨æ¸©åº¦ä¼ æ„Ÿå™¨ |
| `sensor` | çƒ­æ°´å™¨ä½æ¸©å€¼ | åº•éƒ¨æ¸©åº¦ä¼ æ„Ÿå™¨ |
| `sensor` | å®é™…çƒ­æ°´å æ¯” | å½“å‰å¯ç”¨çƒ­æ°´ç™¾åˆ†æ¯” |
| `sensor` | ç›®æ ‡çƒ­æ°´å æ¯” | è¾¾åˆ°ç›®æ ‡æ¸©åº¦çš„çƒ­æ°´é‡ |
<img width="532" height="537" alt="image" src="https://github.com/user-attachments/assets/e31d197a-8900-47bc-bd26-45ba3e4f7e40" />
<img width="618" height="527" alt="image" src="https://github.com/user-attachments/assets/84498efa-5abf-42ea-89f0-6227d9e8cdef" />

---

## ğŸ” æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šæ— æ³•è¿æ¥è®¾å¤‡
**ç°è±¡**ï¼šæ—¥å¿—æ˜¾ç¤º `Could not connect with device`

**è§£å†³**ï¼š
1. ç¡®è®¤è®¾å¤‡IPåœ°å€æ­£ç¡®ä¸”å¯pingé€š
2. æ£€æŸ¥çƒ­æ°´å™¨æ˜¯å¦å¼€å¯å¹¶æ¥å…¥åŒä¸€å±€åŸŸç½‘
3. å°è¯•ä¿®æ”¹åŠ å¯†ç‰ˆæœ¬ï¼ˆ1æˆ–2ï¼‰
4. åœ¨çƒ­æ°´å™¨é¢æ¿ç¡®è®¤å·²å¯ç”¨ç½‘ç»œåŠŸèƒ½

### é—®é¢˜2ï¼šè®¤è¯å¤±è´¥
**ç°è±¡**ï¼šæ—¥å¿—æ˜¾ç¤º `Error getting device encryption key`

**è§£å†³**ï¼š
1. ç¡®è®¤MACåœ°å€æ ¼å¼æ­£ç¡®ï¼ˆæ— å†’å·ï¼Œå°å†™ï¼‰
2. å°è¯•é‡ç½®çƒ­æ°´å™¨ç½‘ç»œè®¾ç½®
3. æ£€æŸ¥è·¯ç”±å™¨é˜²ç«å¢™æ˜¯å¦é˜»æ­¢UDPç«¯å£7000

### é—®é¢˜3ï¼šæ•°æ®ä¸æ›´æ–°
**ç°è±¡**ï¼šä¼ æ„Ÿå™¨çŠ¶æ€é•¿æ—¶é—´ä¸å˜

**è§£å†³**ï¼š
1. æ£€æŸ¥ `SCAN_INTERVAL` è®¾ç½®ï¼ˆé»˜è®¤60ç§’ï¼‰
2. æŸ¥çœ‹çƒ­æ°´å™¨æ˜¯å¦å¤„äºå…³æœºçŠ¶æ€
3. æ£€æŸ¥æ—¥å¿—æ˜¯å¦æœ‰ `device offline` æç¤º

---

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬ï¼ˆåŸºäº jamelu001/gree_water_heaterï¼‰

---

## ğŸ™ è‡´è°¢

- **åŸä½œè€…**ï¼š[@RobHofmann](https://github.com/RobHofmann/HomeAssistant-GreeClimateComponent) çš„ HomeAssistant-GreeClimateComponent é¡¹ç›®
- **åŸä½œè€…**ï¼š[@jamelu001](https://github.com/jamelu001/gree_water_heater?tab=readme-ov-file) çš„ Gree Water Heater é¡¹ç›®
- **åŠ å¯†å®ç°**ï¼špycryptodome åº“
- **åè®®åˆ†æ**ï¼šGree è®¾å¤‡ç¤¾åŒºç ”ç©¶è€…

---

## ğŸ”— é“¾æ¥

- **GitHub ä»“åº“**: https://github.com/cybaijie/ha-gree-water-heater
- **é—®é¢˜åé¦ˆ**: https://github.com/cybaijie/ha-gree-water-heater/issues
- **Home Assistant ç¤¾åŒº**: https://community.home-assistant.io

---

## ğŸ’¡ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
